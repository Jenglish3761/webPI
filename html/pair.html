<DOCTYPE !html>
<html>
  <head>
    <title>Pair</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
  </head>
  <body class="border">
    <h1>Pair</h1>
    
    <form>
      <button>Scan</button>
    </form>
    
    <h3>Output</h3>
    <div>
      <div id="content"></div>
      <div id="status"></div>
      <pre id="log"></pre>
    </div>
    
    <script>
      async function onButtonClick() {
        let filters = [];
        
        let options = {}
        options.acceptAllDevices = true;
        try{
          log('Requesting Bluetooth Device...');
          log('with ' + JSON.stringify(options));
          const device = await navigator.bluetooth.requestDevice(options);
      
          log('> Name:      ' + device.name);
          log('> Id:        ' + device.id);
          log('> Connected: ' + device.gatt.connected);
        }catch(error){
          log('Argh! ' + error);
        }
      }
    </script>
    <script>
      document.querySelector('form').addEventListener('submit', function(event) {
        event.stopPropogation();
        event.preventDefault();
        if (isWebBluetoothEnabled()){
          ChromeSamples.clearLog();
          onButtonClick();
        }
      });
      
    </script>
    <br/><br/>
    <a target="_blank" href="https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web">Doc</a>
    
  </body>
</html>
